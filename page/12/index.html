<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>我带你们打</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="我带你们打">
<meta property="og:url" content="https://github.com/ZzqiZQute/page/12/index.html">
<meta property="og:site_name" content="我带你们打">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我带你们打">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <link href="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script>
    NProgress.start()
  </script>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
   <canvas id="logo3d-canvas" touch-action="none">
  </canvas>
  
  <div id="header-outer" class="outer">
  
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">我带你们打</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">a.k.a. WDNMD</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        <!--  -->
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/ZzqiZQute" title="Github"></a>
        
        <!-- <a id="nav-search-btn" class="nav-icon" title="搜索"></a> -->
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/ZzqiZQute"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Babylon-js-3-基本元素" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/01/Babylon-js-3-基本元素/" class="article-date">
  <time datetime="2019-06-01T09:08:54.000Z" itemprop="datePublished">2019-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/01/Babylon-js-3-基本元素/">Babylon.js-3 基本元素</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <script src="https://cdn.bootcss.com/babylonjs/4.1.0-alpha.1/babylon.js"></script>
<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script> <!-- babylon.js加载器 (OBJ, STL, glTF)-->
<script src="https://code.jquery.com/pep/0.4.3/pep.js"></script> <!-- Pointer Event Polyfill 便携设备触碰事件处理 -->
<p>参考链接：<a href="https://doc.babylonjs.com/babylon101/discover_basic_elements" target="_blank" rel="noopener">https://doc.babylonjs.com/babylon101/discover_basic_elements</a></p>
<p>BABYLON使用左手笛卡尔坐标系，如图所示：</p>
<img src="/2019/06/01/Babylon-js-3-基本元素/coordinate_system.png" title="坐标系统">

<p>我们可以通过Babylon中的MeshBuilder来创建基本元素，其通用写法为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mesh = BABYLON.MeshBuilder.Create&lt;Mesh&gt;(name, &#123;<span class="attr">param1</span> : val1, <span class="attr">param2</span>: val2 ,...otherParam &#125;, scene);</span><br></pre></td></tr></table></figure>

<p>其中<code>&lt;Mesh&gt;</code>可以有如下选择</p>
<ul>
<li><a href="#babylon-3-box">Box （盒子）</a></li>
<li>Cylinder （圆柱）</li>
<li>DashedLines （虚线）</li>
<li>Decal （贴花）</li>
<li>Disc （圆盘）</li>
<li><a href="#babylon-3-ground">Ground （地面）</a></li>
<li>GroundFromHeightMap （在高度图上的地面）</li>
<li>IcoSphere （多边形近似球体）</li>
<li>Lathe （车床）</li>
<li>LineSystem （线系统）</li>
<li>Lines （线）</li>
<li><a href="#babylon-3-plane">Plane （平面）</a></li>
<li>Polygon （多边形）</li>
<li>Polyhedron （多面体）</li>
<li>Ribbon （丝带）</li>
<li><a href="#babylon-3-sphere">Sphere （球）</a></li>
<li>TiledBox （平铺盒子）</li>
<li>TiledGround （平铺地面）</li>
<li>TiledPlane （平铺平面）</li>
<li>Torus （花托）</li>
<li>TorusKnot （圆环结）</li>
<li>Tube （管道）</li>
</ul>
<p>参考 <a href="https://doc.babylonjs.com/api/classes/babylon.meshbuilder" target="_blank" rel="noopener">MeshBuilder API</a></p>
<div id="babylon-3-box"></div>

<h3 id="盒子-（Box）"><a href="#盒子-（Box）" class="headerlink" title="盒子 （Box）"></a>盒子 （Box）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> box = BABYLON.MeshBuilder.CreateBox(<span class="string">"box"</span>, parameters, scene);</span><br></pre></td></tr></table></figure>

<p>其中<code>parameter</code>是盒子的可选参数，如下:</p>
<ul>
<li>backUVs?: Vector4 反面UV坐标</li>
<li>depth?: number 深度（沿z轴）</li>
<li>faceColors?: Color4[] 面颜色</li>
<li>faceUV?: Vector4[] 面UV坐标</li>
<li>frontUVs?: Vector4 正面UV坐标</li>
<li>height?: number 高度（沿y轴）</li>
<li>sideOrientation?: number 边方向</li>
<li>size?: number 尺寸</li>
<li>updatable?: boolean 是否可更新</li>
<li>width?: number 宽度（沿x轴）</li>
</ul>
<div style="background-color:#F8F8F8;border-left:red 5px solid;padding:30px;margin-bottom:20px"><code>updatable</code>和<code>sideOrientation</code>是大部分<code>Create</code>函数的<code>parameter</code>参数的共有属性。<br><code>Vector4</code> 是Babylon.js的4维向量类<br><code>Color4</code> 是Babylon.js的rgba颜色类，取值为[0,1]</div>

<ul>
<li><code>size</code> 指盒子的尺寸，当<code>width</code> <code>height</code> <code>depth</code>未设置时都使用<code>size</code>值代替。</li>
<li><code>faceUV</code> 指盒子的面UV坐标，当盒子使用材质渲染时，该坐标作为材质贴图划分的标志。该数组的元素顺序为后前右左上下。</li>
<li><code>faceColors</code> 指盒子的面颜色，同<code>faceUV</code>顺序。</li>
<li><code>frontUVs</code> <code>backUVs</code> 指正反面的UV坐标，当盒子正反面都渲染时(由<code>sideOrientation</code>决定)，区分前后的UV坐标。</li>
<li><code>updatable</code> 指是否可以更新（顶点或者颜色等）</li>
<li><code>sideOrientation</code> 指正反面的方向，默认为<code>BABYLON.Mesh.DEFAULT</code>,可选值为<code>BABYLON.Mesh.FRONTSIDE</code>,<code>BABYLON.Mesh.BACKSIDE</code>,<code>BABYLON.Mesh.DOUBLESIDE</code>。考虑性能原因，BABYLON会在默认情况下只渲染前面，可以修改该参数实现只渲染后面或两面都渲染。</li>
</ul>
<p>我们可以通过一个例子来说明盒子元素。为简单起见，先不考虑贴图以及顶点更新之类的东西，光照也和热身章节中的一样,我们改变一下摄像机位置以便观察。假设有一个盒子，大小是0。我们让其每一帧长度，宽度，高度分别加1，2，3，然后到达100，200，300后再每一帧减去1，2，3。并且给盒子的前面设置为绿色，给盒子上面设置为红色，其他面均为白色。我们可以用以下代码实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'renderCanvas-3-1'</span>)</span><br><span class="line"><span class="keyword">const</span> engine = <span class="keyword">new</span> BABYLON.Engine(canvas,<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> BABYLON.Scene(engine)</span><br><span class="line"><span class="comment">// 添加照相机</span></span><br><span class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> BABYLON.ArcRotateCamera(<span class="string">"Camera"</span>,-<span class="built_in">Math</span>.PI/<span class="number">4</span>,<span class="built_in">Math</span>.PI/<span class="number">3</span>, <span class="number">500</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), scene)</span><br><span class="line"><span class="comment">// 设置照相机可以控制</span></span><br><span class="line">camera.attachControl(canvas, <span class="literal">false</span>)</span><br><span class="line"><span class="comment">// 添加光源</span></span><br><span class="line"><span class="keyword">const</span> light1 = <span class="keyword">new</span> BABYLON.HemisphericLight(<span class="string">"light1"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), scene)</span><br><span class="line"><span class="keyword">const</span> light2 = <span class="keyword">new</span> BABYLON.PointLight(<span class="string">"light2"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>), scene)</span><br><span class="line"><span class="comment">// TODO 修改代码为假设效果</span></span><br><span class="line"><span class="comment">// 设置变化方向</span></span><br><span class="line"><span class="keyword">let</span> x=<span class="literal">true</span>,y=<span class="literal">true</span>,z=<span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> width=<span class="number">0</span>,height=<span class="number">0</span>,depth=<span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> box = <span class="literal">null</span></span><br><span class="line"><span class="comment">// 创建动画效果</span></span><br><span class="line"><span class="keyword">const</span> anime=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    width+=(x?<span class="number">1</span>:<span class="number">-1</span>)*<span class="number">1</span></span><br><span class="line">    height+=(x?<span class="number">1</span>:<span class="number">-1</span>)*<span class="number">2</span></span><br><span class="line">    depth+=(x?<span class="number">1</span>:<span class="number">-1</span>)*<span class="number">3</span></span><br><span class="line">    <span class="keyword">if</span>(width&gt;=<span class="number">100</span>)&#123;</span><br><span class="line">        x=<span class="literal">false</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(width&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(height&gt;=<span class="number">200</span>)&#123;</span><br><span class="line">        y=<span class="literal">false</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(height&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        y=<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(depth&gt;=<span class="number">300</span>)&#123;</span><br><span class="line">        z=<span class="literal">false</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(depth&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        z=<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 注意！ 此处使用移除场景中的box再新添加box来实现视觉上box大小的变化，如果改变原始box，需要修改其顶点坐标来实现。设置updatable为true，之后修改mesh的顶点坐标。</span></span><br><span class="line">    <span class="keyword">if</span>(box!==<span class="literal">null</span>)&#123;</span><br><span class="line">        scene.removeMesh(box)</span><br><span class="line">        <span class="comment">//注意释放资源</span></span><br><span class="line">        box.dispose()</span><br><span class="line">    &#125;</span><br><span class="line">    box=BABYLON.MeshBuilder.CreateBox(<span class="string">"box"</span>,&#123;width,height,depth,<span class="attr">faceColors</span>:[<span class="keyword">new</span> BABYLON.Color4(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),<span class="keyword">new</span> BABYLON.Color4(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>),<span class="keyword">new</span> BABYLON.Color4(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),<span class="keyword">new</span> BABYLON.Color4(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),<span class="keyword">new</span> BABYLON.Color4(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>),<span class="keyword">new</span> BABYLON.Color4(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)]&#125;,scene)</span><br><span class="line">    requestAnimationFrame(anime)</span><br><span class="line">&#125;</span><br><span class="line">anime()</span><br><span class="line">engine.runRenderLoop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;scene.render()&#125;)</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<div style="display:flex;justify-content:center;margin-top:20px;margin-bottom:20px">
    <canvas id="renderCanvas-3-box" touch-action="none" style="width:400px;height:400px">
    </canvas>
</div>
<script>
    const canvasBox = document.getElementById('renderCanvas-3-box')
    const engineBox = new BABYLON.Engine(canvasBox,true)
    const sceneBox = new BABYLON.Scene(engineBox)
    // 添加照相机
    const cameraBox = new BABYLON.ArcRotateCamera("CameraBox",-Math.PI/4,Math.PI/3, 500, new BABYLON.Vector3(0,0,0), sceneBox)
    // 设置照相机可以控制
    cameraBox.attachControl(canvasBox, false)
    // 添加光源
    const light1Box = new BABYLON.HemisphericLight("light1box", new BABYLON.Vector3(1, 1, 0), sceneBox)
    const light2Box = new BABYLON.PointLight("light2box", new BABYLON.Vector3(0, 1, -1), sceneBox)
    // TODO 修改代码为假设效果
    // 设置变化方向
    let x=true,y=true,z=true
    let width=0,height=0,depth=0
    let box = null
    // 创建动画效果
    const anime=()=>{
        width+=(x?1:-1)*1
        height+=(x?1:-1)*2
        depth+=(x?1:-1)*3
        if(width>=100){
            x=false
        }else if(width<=0){
            x=true
        }
        if(height>=200){
            y=false
        }else if(height<=0){
            y=true
        }
        if(depth>=300){
            z=false
        }else if(depth<=0){
            z=true
        }
        // 注意！ 此处使用移除场景中的box再新添加box来实现视觉上box大小的变化，如果改变原始box，需要修改其顶点坐标来实现。设置updatable为true，之后修改mesh的顶点坐标。
        if(box!==null){
            sceneBox.removeMesh(box)
            //注意释放资源
            box.dispose()
        }
        box=BABYLON.MeshBuilder.CreateBox("box",{width,height,depth,faceColors:[new BABYLON.Color4(1,1,1),new BABYLON.Color4(0,1,0),new BABYLON.Color4(1,1,1),new BABYLON.Color4(1,1,1),new BABYLON.Color4(1,0,0),new BABYLON.Color4(1,1,1)]},sceneBox)
        requestAnimationFrame(anime)
    }
    anime()
    engineBox.runRenderLoop(function(){sceneBox.render()})
</script>
我们看到有些面的颜色是黑色或者灰色，是由于该面没有光照造成的，在接下来的光照章节中将会介绍。

<div id="babylon-3-sphere"></div>

<h3 id="球-（Sphere）"><a href="#球-（Sphere）" class="headerlink" title="球 （Sphere）"></a>球 （Sphere）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sphere = BABYLON.MeshBuilder.CreateSphere(<span class="string">"sphere"</span>, parameters, scene);</span><br></pre></td></tr></table></figure>

<p>其中<code>parameter</code>是球的可选参数，如下:</p>
<ul>
<li>arc?: number [0,1],默认值：1，创建圆周的arc倍的不完整球</li>
<li>backUVs?: Vector4 反面UV坐标</li>
<li>diameter?: number 直径</li>
<li>diameterX?: number x轴直径  </li>
<li>diameterY?: number y轴直径</li>
<li>diameterZ?: number z轴直径</li>
<li>frontUVs?: Vector4 正面UV坐标</li>
<li>segments?: number 默认值：32，分段数</li>
<li>sideOrientation?: number</li>
<li>slice?: number [0,1],默认值：1，创建高度的slice倍的不完整球</li>
<li>updatable?: boolean</li>
</ul>
<ul>
<li><code>diameter</code> 指球的直径，当<code>diameterX</code> <code>diameterY</code> <code>diameterZ</code>未设置时都使用<code>diameter</code>值代替。</li>
<li><code>segments</code> 指球的分段数，值越大分段越多越精密，但越消耗内存。</li>
</ul>
<p>假设一个球的半径为2，分段数为8，使用以下代码进行实验：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvasSphere = <span class="built_in">document</span>.getElementById(<span class="string">'renderCanvas-3-sphere'</span>)</span><br><span class="line"><span class="keyword">const</span> engineSphere = <span class="keyword">new</span> BABYLON.Engine(canvasSphere,<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">const</span> sceneSphere = <span class="keyword">new</span> BABYLON.Scene(engineSphere)</span><br><span class="line"><span class="comment">// 添加照相机</span></span><br><span class="line"><span class="keyword">const</span> cameraSphere = <span class="keyword">new</span> BABYLON.ArcRotateCamera(<span class="string">"CameraSphere"</span>,-<span class="built_in">Math</span>.PI/<span class="number">4</span>,<span class="built_in">Math</span>.PI/<span class="number">3</span>, <span class="number">5</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), sceneSphere)</span><br><span class="line"><span class="comment">// 设置照相机可以控制</span></span><br><span class="line">cameraSphere.attachControl(canvasSphere, <span class="literal">false</span>)</span><br><span class="line"><span class="comment">// 添加光源</span></span><br><span class="line"><span class="keyword">const</span> lightSphere1 = <span class="keyword">new</span> BABYLON.HemisphericLight(<span class="string">"lightSphere1"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), sceneSphere)</span><br><span class="line"><span class="keyword">const</span> lightSphere2 = <span class="keyword">new</span> BABYLON.PointLight(<span class="string">"lightSphere2"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>), sceneSphere)</span><br><span class="line"><span class="comment">// TODO 修改代码为假设效果</span></span><br><span class="line"><span class="keyword">const</span> sphere=BABYLON.MeshBuilder.CreateSphere(<span class="string">"sphere"</span>,&#123;<span class="attr">diameter</span>:<span class="number">2</span>,<span class="attr">segments</span>:<span class="number">8</span>&#125;,sceneSphere)</span><br><span class="line">engineSphere.runRenderLoop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;sceneSphere.render()&#125;)</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<div style="display:flex;justify-content:center;margin-top:20px;margin-bottom:20px">
    <canvas id="renderCanvas-3-sphere" touch-action="none" style="width:400px;height:400px">
    </canvas>
</div>
<script>
    const canvasSphere = document.getElementById('renderCanvas-3-sphere')
    const engineSphere = new BABYLON.Engine(canvasSphere,true)
    const sceneSphere = new BABYLON.Scene(engineSphere)
    // 添加照相机
    const cameraSphere = new BABYLON.ArcRotateCamera("CameraSphere",-Math.PI/4,Math.PI/3, 5, new BABYLON.Vector3(0,0,0), sceneSphere)
    // 设置照相机可以控制
    cameraSphere.attachControl(canvasSphere, false)
    // 添加光源
    const lightSphere1 = new BABYLON.HemisphericLight("lightSphere1", new BABYLON.Vector3(1, 1, 0), sceneSphere)
    const lightSphere2 = new BABYLON.PointLight("lightSphere2", new BABYLON.Vector3(0, 1, -1), sceneSphere)
    // TODO 修改代码为假设效果
    const sphere=BABYLON.MeshBuilder.CreateSphere("sphere",{diameter:2,segments:8},sceneSphere)
    engineSphere.runRenderLoop(function(){sceneSphere.render()})
</script>

<div id="babylon-3-plane">

<h3 id="平面-（Plane）"><a href="#平面-（Plane）" class="headerlink" title="平面 （Plane）"></a>平面 （Plane）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> plane = BABYLON.MeshBuilder.CreatePlane(<span class="string">"plane"</span>, parameters, scene);</span><br></pre></td></tr></table></figure>

<p>其中<code>parameter</code>是平面的可选参数，如下:</p>
<ul>
<li>backUVs?: Vector4</li>
<li>frontUVs?: Vector4</li>
<li>height?: number 高度</li>
<li>sideOrientation?: number</li>
<li>size?: number 尺寸</li>
<li>sourcePlane?: Plane</li>
<li>updatable?: boolean</li>
<li>width?: number 宽度</li>
</ul>
<ul>
<li><code>size</code> 指平面的尺寸，当<code>width</code> <code>height</code> 未设置时都使用<code>size</code>值代替。</li>
<li>可以理解为一个盒子的前面。</li>
</ul>
<p>我们创建一个宽为2，高为1的平面，使用以下代码实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvasPlane = <span class="built_in">document</span>.getElementById(<span class="string">'renderCanvas-3-plane'</span>)</span><br><span class="line"><span class="keyword">const</span> enginePlane = <span class="keyword">new</span> BABYLON.Engine(canvasPlane,<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">const</span> scenePlane = <span class="keyword">new</span> BABYLON.Scene(enginePlane)</span><br><span class="line"><span class="comment">// 添加照相机</span></span><br><span class="line"><span class="keyword">const</span> cameraPlane = <span class="keyword">new</span> BABYLON.ArcRotateCamera(<span class="string">"CameraPlane"</span>,-<span class="built_in">Math</span>.PI/<span class="number">4</span>,<span class="built_in">Math</span>.PI/<span class="number">3</span>, <span class="number">5</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), scenePlane)</span><br><span class="line"><span class="comment">// 设置照相机可以控制</span></span><br><span class="line">cameraPlane.attachControl(canvasPlane, <span class="literal">false</span>)</span><br><span class="line"><span class="comment">// 添加光源</span></span><br><span class="line"><span class="keyword">const</span> lightPlane1 = <span class="keyword">new</span> BABYLON.HemisphericLight(<span class="string">"lightPlane1"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), scenePlane)</span><br><span class="line"><span class="keyword">const</span> lightPlane2 = <span class="keyword">new</span> BABYLON.PointLight(<span class="string">"lightPlane2"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>), scenePlane)</span><br><span class="line"><span class="comment">// TODO 修改代码为假设效果</span></span><br><span class="line"><span class="keyword">const</span> plane=BABYLON.MeshBuilder.CreatePlane(<span class="string">"plane"</span>,&#123;<span class="attr">width</span>:<span class="number">2</span>,<span class="attr">height</span>:<span class="number">1</span>&#125;,scenePlane)</span><br><span class="line">enginePlane.runRenderLoop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;scenePlane.render()&#125;)</span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<div style="display:flex;justify-content:center;margin-top:20px;margin-bottom:20px">
    <canvas id="renderCanvas-3-plane" touch-action="none" style="width:400px;height:400px">
    </canvas>
</div>
<script>
    const canvasPlane = document.getElementById('renderCanvas-3-plane')
    const enginePlane = new BABYLON.Engine(canvasPlane,true)
    const scenePlane = new BABYLON.Scene(enginePlane)
    // 添加照相机
    const cameraPlane = new BABYLON.ArcRotateCamera("CameraPlane",-Math.PI/4,Math.PI/3, 5, new BABYLON.Vector3(0,0,0), scenePlane)
    // 设置照相机可以控制
    cameraPlane.attachControl(canvasPlane, false)
    // 添加光源
    const lightPlane1 = new BABYLON.HemisphericLight("lightPlane1", new BABYLON.Vector3(1, 1, 0), scenePlane)
    const lightPlane2 = new BABYLON.PointLight("lightPlane2", new BABYLON.Vector3(0, 1, -1), scenePlane)
    // TODO 修改代码为假设效果
    const plane=BABYLON.MeshBuilder.CreatePlane("plane",{width:2,height:1},scenePlane)
    enginePlane.runRenderLoop(function(){scenePlane.render()})
</script>

<div id="babylon-3-ground"></div>

<h3 id="Ground-（地面）"><a href="#Ground-（地面）" class="headerlink" title="Ground （地面）"></a>Ground （地面）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ground = BABYLON.MeshBuilder.CreateGround(<span class="string">"ground"</span>, parameters, scene);</span><br></pre></td></tr></table></figure>

<p>其中<code>parameter</code>是地面的可选参数，如下:</p>
<ul>
<li>height?: number 高 z轴</li>
<li>subdivisions?: number 边的细分数</li>
<li>subdivisionsX?: number x轴边细分数</li>
<li>subdivisionsY?: number y轴边细分数</li>
<li>updatable?: boolean</li>
<li>width?: number 宽 x轴</li>
</ul>
<ul>
<li><code>Ground</code>是创建在x轴和z轴（y=0）的地面。</li>
<li><code>subdivisions</code>是地面边的细分数，用于构建高度图。默认<code>subdivisionsX</code> <code>subdivisionsY</code>与<code>subdivisions</code>相同。<br>我们创建一个宽为2，高为1的地面，并简单标注一下坐标轴，使用以下代码实现：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvasGround = <span class="built_in">document</span>.getElementById(<span class="string">'renderCanvas-3-ground'</span>)</span><br><span class="line"><span class="keyword">const</span> engineGround = <span class="keyword">new</span> BABYLON.Engine(canvasGround,<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">const</span> sceneGround = <span class="keyword">new</span> BABYLON.Scene(engineGround)</span><br><span class="line"><span class="comment">// 添加照相机</span></span><br><span class="line"><span class="keyword">const</span> cameraGround = <span class="keyword">new</span> BABYLON.ArcRotateCamera(<span class="string">"CameraGround"</span>,<span class="built_in">Math</span>.PI/<span class="number">3</span>,<span class="built_in">Math</span>.PI/<span class="number">4</span>, <span class="number">4</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>), sceneGround)</span><br><span class="line"><span class="comment">// 设置照相机可以控制</span></span><br><span class="line">cameraGround.attachControl(canvasGround, <span class="literal">false</span>)</span><br><span class="line"><span class="comment">// 添加光源</span></span><br><span class="line"><span class="keyword">const</span> lightGround1 = <span class="keyword">new</span> BABYLON.HemisphericLight(<span class="string">"lightGround1"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), sceneGround)</span><br><span class="line"><span class="keyword">const</span> lightGround2 = <span class="keyword">new</span> BABYLON.PointLight(<span class="string">"lightGround2"</span>, <span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>), sceneGround)</span><br><span class="line"><span class="comment">// TODO 修改代码为假设效果</span></span><br><span class="line"><span class="keyword">const</span> lineXGround=BABYLON.Mesh.CreateLines(<span class="string">"lineXGround"</span>,[<span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),<span class="keyword">new</span> BABYLON.Vector3(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)],sceneGround)</span><br><span class="line"><span class="keyword">const</span> lineYGround=BABYLON.Mesh.CreateLines(<span class="string">"lineYGround"</span>,[<span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),<span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)],sceneGround)</span><br><span class="line"><span class="keyword">const</span> lineZGround=BABYLON.Mesh.CreateLines(<span class="string">"lineZGround"</span>,[<span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),<span class="keyword">new</span> BABYLON.Vector3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)],sceneGround)</span><br><span class="line"><span class="keyword">const</span> ground=BABYLON.MeshBuilder.CreateGround(<span class="string">"ground"</span>,&#123;<span class="attr">width</span>:<span class="number">2</span>,<span class="attr">height</span>:<span class="number">1</span>&#125;,sceneGround)</span><br><span class="line">lineXGround.color=<span class="keyword">new</span> BABYLON.Color3(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">lineYGround.color=<span class="keyword">new</span> BABYLON.Color3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">lineZGround.color=<span class="keyword">new</span> BABYLON.Color3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">engineGround.runRenderLoop(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;sceneGround.render()&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>效果如下：</p>
<div style="display:flex;justify-content:center;margin-top:20px;margin-bottom:20px">
    <canvas id="renderCanvas-3-ground" touch-action="none" style="width:400px;height:400px">
    </canvas>
</div>
<script>
    const canvasGround = document.getElementById('renderCanvas-3-ground')
    const engineGround = new BABYLON.Engine(canvasGround,true)
    const sceneGround = new BABYLON.Scene(engineGround)
    // 添加照相机
    const cameraGround = new BABYLON.ArcRotateCamera("CameraGround",Math.PI/3,Math.PI/4, 4, new BABYLON.Vector3(0,0,0), sceneGround)
    // 设置照相机可以控制
    cameraGround.attachControl(canvasGround, false)
    // 添加光源
    const lightGround1 = new BABYLON.HemisphericLight("lightGround1", new BABYLON.Vector3(1, 1, 0), sceneGround)
    const lightGround2 = new BABYLON.PointLight("lightGround2", new BABYLON.Vector3(0, 1, -1), sceneGround)
    // TODO 修改代码为假设效果
    const lineXGround=BABYLON.Mesh.CreateLines("lineXGround",[new BABYLON.Vector3(0,0,0),new BABYLON.Vector3(1,0,0)],sceneGround)
    const lineYGround=BABYLON.Mesh.CreateLines("lineYGround",[new BABYLON.Vector3(0,0,0),new BABYLON.Vector3(0,1,0)],sceneGround)
    const lineZGround=BABYLON.Mesh.CreateLines("lineZGround",[new BABYLON.Vector3(0,0,0),new BABYLON.Vector3(0,0,1)],sceneGround)
    const ground=BABYLON.MeshBuilder.CreateGround("ground",{width:2,height:1},sceneGround)
    lineXGround.color=new BABYLON.Color3(1,0,0)
    lineYGround.color=new BABYLON.Color3(0,1,0)
    lineZGround.color=new BABYLON.Color3(0,0,1)
    engineGround.runRenderLoop(function(){sceneGround.render()})
</script></div>
      
    </div>
    <!-- <footer class="article-footer">
      <a data-url="https://github.com/ZzqiZQute/2019/06/01/Babylon-js-3-基本元素/" data-id="ckxyvmjzr0000z3u75fe7qoa2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BabylonJS/">BabylonJS</a></li></ul>

    </footer> -->
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/11/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/13/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BabylonJS/">BabylonJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blender/">Blender</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel/">babel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chore/">chore</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/19/关于使用Vue-js的通知/">关于使用Vue.js的通知（误）</a>
          </li>
        
          <li>
            <a href="/2019/06/18/三边测量（Trilateration）定位方法/">三边测量（Trilateration）定位方法</a>
          </li>
        
          <li>
            <a href="/2019/06/15/Babylon-js-9-动画/">Babylon.js-9 动画</a>
          </li>
        
          <li>
            <a href="/2019/06/13/Babylon-js-8-光照/">Babylon.js-8 光照</a>
          </li>
        
          <li>
            <a href="/2019/06/12/配置Babel以便使用es6编写Node代码/">配置Babel以便使用es6编写Node代码</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 ZzqiZQute<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
     <br>
     <br>
    <div>我猜你已经发现了页面的彩蛋，对吗？</div>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    
<script src="https://cdn.bootcss.com/babylonjs/4.1.0-alpha.1/babylon.js"></script>
<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script> <!-- babylon.js加载器 (OBJ, STL, glTF)-->
<script src="https://code.jquery.com/pep/0.4.3/pep.js"></script> <!-- Pointer Event Polyfill 便携设备触碰事件处理 -->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>